<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>小說閱讀</title>
</head>
<body>
    <h1>📖 小說閱讀</h1>

    <!-- 直接開啟 PDF -->
    <p><a href="index.pdf" target="_blank">📂 直接開啟小說 PDF</a></p>

    <!-- 記住閱讀進度 -->
    <p>選擇你目前讀到的頁數：</p>
    <select id="pageSelect">
        <!-- 頁數選擇將會由 JavaScript 動態生成 -->
    </select>
    <button id="saveButton" onclick="saveProgress()">📌 記住進度</button>
    <p id="progressMessage"></p>

    <script>
        // 動態生成頁數選項（1到300）
        var select = document.getElementById("pageSelect");
        for (var i = 1; i <= 300; i++) {
            var option = document.createElement("option");
            option.value = i;
            option.textContent = i;
            select.appendChild(option);
        }

        // 儲存進度並顯示訊息
        function saveProgress() {
            var page = document.getElementById("pageSelect").value;
            if (page) {
                var url = "index.pdf#page=" + page;
                navigator.clipboard.writeText(url).then(() => {
                    document.getElementById("progressMessage").innerHTML = 
                        "✅ 進度已記住！請貼到記事本或書籤保存：<br>" +
                        "<a href='" + url + "' target='_blank'>" + url + "</a>";
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    document.getElementById("progressMessage").innerHTML = "❌ 無法複製進度連結，請手動複製。";
                });
            } else {
                document.getElementById("progressMessage").innerHTML = "❌ 請選擇頁數！";
            }
        }
    </script>
</body>
</html>
